# BookRAG Question-Answering System

Сервис располагается по адресу http://103.71.22.95:8000/

## Описание проекта
Сервис для ответов на вопросы по сюжету и персонажам книги (или серии книг). Обработка вопросов пользователя, предоставление ответов на основе базы знаний, сформированной из содержания книги, и указание главы/части, на основе которых был сформирован ответ.

Проект использует векторное хранилище для поиска релевантных текстов, эмбеддинги для обработки текста, и языковую модель для генерации ответов.

## Основной функционал
1. **Загрузка и обработка текстов книги:** 
   - Книга скачивается и парсится, извлекаются главы и их содержание.
   - Тексты разбиваются на фрагменты для построения базы знаний.
2. **Создание векторного хранилища:** 
   - Фрагменты текста индексируются с использованием модели эмбеддингов.
   - Хранилище используется для поиска релевантных частей текста.
3. **Ответы на вопросы:**
   - На основе релевантных текстов сервис формирует ответ на заданный вопрос.
   - Указаны главы/части книги, использованные при формировании ответа.
4. **Ранжирование:** 
   - Поддерживаются различные методы ранжирования результатов для повышения точности.

## Технологии и библиотеки
- **Python** — основной язык программирования.
- **LangChain** — работа с векторными хранилищами и генерация ответов.
- **HuggingFace** — использование модели для создания эмбеддингов.
- **BeautifulSoup** — парсинг страниц с текстами книг.
- **Chroma** — векторное хранилище для хранения текстов книги.

## Установка и запуск
### Предварительные требования
- Python >= 3.9
- Установленный `pip`
- Зарегистрированный ключ API Google Generative AI (для работы LLM)

### Установка
1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/soaptr/BookRAG.git
    cd BookRAG
    ```
2. Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```

3. Создайте файл `.env` и укажите ключи:
    ```
    GOOGLE_API_KEY=<ваш_ключ_API>
    ```

### Запуск

1. Запустите сервис:
    ```bash
    uvicorn app:app --reload
    ```

2. Задавайте вопросы:
    ```
    Ваш вопрос: Как звали главных героев книги?
    Ответ: Главными героями являются Артур Дент, «— Меня зовут Артур Дент.»; Форд Префект, «Форд Префект, — представился Форд, пожав плечами.»; Зафод Библброкс, «— А я, — объявил Зафод, ... — Зафод Библброкс.»; и Триллиан, «— Меня зовут Триллиан.». Также в повествовании важная роль отводится Слартибартфасту, «— Мое имя? — спросил старец, ... — Мое имя, — произнес он, помолчав, — Слартибартфаст.».
    ```
